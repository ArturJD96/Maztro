<html>
<head>
    <title>An example</title>
    <script src="https://plugin.humdrum.org/scripts/humdrum-notation-plugin-worker.js"></script>
</head>
<body>
    <p>J.N. Hummel prelude in D&flat;, op. 67, no. 15.:</p>

    <script>
        /*displayHumdrum({
            uri: "github://craigsapp/hummel-preludes/kern/prelude67-15.krn",
            source: "hummel-op67-no15",
            spacingStaff: 14,
            spacingSystem: 0,
            scale: 33,
        });
        displayHumdrum({
            uri: "github://craigsapp/hummel-preludes/kern/prelude67-15.krn",
            source: "hummel-op67-no16",
            spacingStaff: 14,
            spacingSystem: 0,
            scale: 33,
            filter: "myank -m 1-3",
        });
        displayHumdrum({
            uri: "github://craigsapp/hummel-preludes/kern/prelude67-15.krn",
            source: "hummel-op67-no16",
            spacingStaff: 14,
            spacingSystem: 0,
            scale: 33,
            filter: "myank -m 4-5",
        });*/
    </script>

    {% for resultObj in sonatas: %}
    <script>
        displayHumdrum({
            uri: "{{resultObj.uri}}",
            source: "{{resultObj}}",
            spacingStaff: 14,
            spacingSystem: 0,
            scale: 33,
            filter: "{{resultObj.filter}}",
        });
    </script>
    {% endfor %}

    <script type="text/x-humdrum" id="hummel-op67-no15"></script>
    <script type="text/x-humdrum" id="hummel-op67-no16"></script>

    <script>
        var data = {{ query | tojson }};
        alert(data.kern);
    </script>
    Falling melody:
    <script>displayHumdrum({ source: "example1" })</script>
    <script type="text/x-humdrum" id="example1">
        data.kern
    </script>

    Rising melody:
    <script>displayHumdrum({ source: "example2" })</script>
    <script type="text/x-humdrum" id="example2">
        **kern
        *M4/4
        =1-
        4c
        8dL
        8eJ
        4f
        4g
        =
        *-
    </script>

    {{query}}
 
    <!-- a form with a search button that points to /search with data test -->
    <form action="/search" method="post">
        <input type="text" name="query" value="
        **kern
        *M4/4
        =1-
        4g
        8fL
        8eJ
        4d
        4c
        =
        *-">
        <input type="submit" value="Search">
    </form>
</body>
</html>